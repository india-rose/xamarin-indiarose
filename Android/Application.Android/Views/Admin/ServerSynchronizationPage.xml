<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
			  xmlns:converters="using:IndiaRose.Framework.Converters"
              XmlStyle="{Resource RootLinearLayoutStyle}">
	<Resources>
		<converters:SynchronizationPageStateToVisibilityConverter Key="SynchronizationPageStateToVisibilityConverter" />
	
		<Style Key="CenteredTextViewStyle"
			   android:layout_width="wrap_content"
			   android:layout_height="wrap_content"
			   android:gravity="center_horizontal"
			   android:layout_centerHorizontal="true"
			   android:layout_centerVertical="true"
			   android:layout_marginTop="10dip"
			   android:textColor="@android:color/black" />
	
		<DataTemplate Key="DeviceItemTemplate">
			<LinearLayout XmlStyle="{Resource SpinnerItemLayoutStyle}">
				<TextView XmlStyle="{Resource SpinnerItemTextStyle}"
				          Text="{Binding .}" />
			</LinearLayout>
		</DataTemplate>
	</Resources>
	
	<!-- ConnectionCheck -->
	<RelativeLayout XmlStyle="{Resource BaseRootLayoutStyle}"
					android:gravity="center"
					android:visibility="{Binding PageState, Converter={Resource SynchronizationPageStateToVisibilityConverter}, ConverterParameter='Connecting'}"
					>
		<TextView XmlStyle="{Resource CenteredTextViewStyle}"
				  Text="{Binding ConnectionStatusMessage}"
				  android:id="ConnectionCheck_StatusMessage"
				  />

		<ProgressBar style="?android:attr/progressBarStyleLarge"
					 android:layout_width="wrap_content"
					 android:layout_height="wrap_content"
					 android:layout_centerHorizontal="true" 
					 android:layout_below="@id/ConnectionCheck_StatusMessage"
					 android:visibility="{Binding IsConnectionLoaderEnabled, Converter={Resource BooleanToVisibilityConverter}}"
					 />
	</RelativeLayout>

	<!-- AccountLogin -->
	<RelativeLayout XmlStyle="{Resource BaseRootLayoutStyle}"
					android:gravity="center"
					android:visibility="{Binding PageState, Converter={Resource SynchronizationPageStateToVisibilityConverter}, ConverterParameter='AccountLogin'}"
					>
		<LinearLayout XmlStyle="{Resource ColumnContainerLinearLayoutStyle}">
			<LinearLayout XmlStyle="{Resource ColumnLayoutStyle}" />
			
			<LinearLayout XmlStyle="{Resource LargeColumnLayoutStyle}" 
						  android:orientation="vertical"
						  >
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=AccountLogin_LoginLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputLogin, Mode=TwoWay, UpdateEvent=TextChanged}" />
			
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=AccountLogin_PasswordLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputPassword, Mode=TwoWay, UpdateEvent=TextChanged}" />
			
				<CheckBox XmlStyle="{Resource FormCheckBoxStyle}"
			              Text="{Tr Text, Uid=AccountLogin_RememberMe}"
			              android:checked="{Binding InputRememberMe, Mode=TwoWay, UpdateEvent=CheckedChange}" />
			
				<TextView XmlStyle="{Resource ErrorTextStyle}"
						  Text="{Binding ErrorMessage}"
						  Visibility="{Binding HasError, Converter={Resource BooleanToVisibilityConverter}}"
						  />

				<LinearLayout XmlStyle="{Resource ButtonLineContainerStyle}"
							  >
					<Button XmlStyle="{Resource MediumBlueButtonStyle}"
					        Text="{Tr Text, Uid=AccountLogin_SignUp}"
					        Click="{Binding OpenRegisterCommand}"
							/>
					<Button XmlStyle="{Resource MediumGreenButtonStyle}"
					        Text="{Tr Text, Uid=AccountLogin_SignIn}"
					        Click="{Binding LoginCommand}"
							/>
				</LinearLayout>
			</LinearLayout>
		
			<LinearLayout XmlStyle="{Resource ColumnLayoutStyle}" />
		</LinearLayout>					
	</RelativeLayout>

	<!-- AccountRegister -->
	<RelativeLayout XmlStyle="{Resource BaseRootLayoutStyle}"
					android:gravity="center"
					android:visibility="{Binding PageState, Converter={Resource SynchronizationPageStateToVisibilityConverter}, ConverterParameter='AccountRegister'}"
					>
		<LinearLayout XmlStyle="{Resource ColumnContainerLinearLayoutStyle}">
			<LinearLayout XmlStyle="{Resource ColumnLayoutStyle}" />
			
			<LinearLayout XmlStyle="{Resource LargeColumnLayoutStyle}" 
						  android:orientation="vertical"
						  >
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=AccountLogin_LoginLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputLogin, Mode=TwoWay, UpdateEvent=TextChanged}" />
				
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=AccountRegister_EmailLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputEmail, Mode=TwoWay, UpdateEvent=TextChanged}" />
			
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=AccountLogin_PasswordLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputPassword, Mode=TwoWay, UpdateEvent=TextChanged}" />
				
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=AccountRegister_PasswordConfirmationLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputPasswordConfirmation, Mode=TwoWay, UpdateEvent=TextChanged}" />
			
				<CheckBox XmlStyle="{Resource FormCheckBoxStyle}"
			              Text="{Tr Text, Uid=AccountLogin_RememberMe}"	
			              android:checked="{Binding InputRememberMe, Mode=TwoWay, UpdateEvent=CheckedChange}" />
			
				<TextView XmlStyle="{Resource ErrorTextStyle}"
						  Text="{Binding ErrorMessage}"
						  Visibility="{Binding HasError, Converter={Resource BooleanToVisibilityConverter}}"
						  />				

				<LinearLayout XmlStyle="{Resource ButtonLineContainerStyle}"
							  >
					<Button XmlStyle="{Resource MediumOrangeButtonStyle}"
					        Text="{Tr Text, Uid=AccountLogin_SignIn}"
					        Click="{Binding OpenRegisterCommand}"
							/>
					<Button XmlStyle="{Resource MediumGreenButtonStyle}"
					        Text="{Tr Text, Uid=AccountLogin_SignUp}"
					        Click="{Binding LoginCommand}"
							/>
				</LinearLayout>
			</LinearLayout>
		
			<LinearLayout XmlStyle="{Resource ColumnLayoutStyle}" />
		</LinearLayout>					
	</RelativeLayout>

	<!-- DeviceChoose -->
	<RelativeLayout XmlStyle="{Resource BaseRootLayoutStyle}"
					android:gravity="center"
					android:visibility="{Binding PageState, Converter={Resource SynchronizationPageStateToVisibilityConverter}, ConverterParameter='DeviceChoose'}"
					>
		<LinearLayout XmlStyle="{Resource ColumnContainerLinearLayoutStyle}">
			<LinearLayout XmlStyle="{Resource ColumnLayoutStyle}" />
			
			<LinearLayout XmlStyle="{Resource LargeColumnLayoutStyle}" 
						  android:orientation="vertical"
						  >
				<!-- Select existing device -->
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=DeviceChoose_ChooseDeviceLabel}" />
				<BindableSpinner XmlStyle="{Resource SpinnerStyle}"
				                 adapter="{Binding InputDeviceNames, Template={Resource DeviceItemTemplate}}"
				                 currentItem="{Binding InputSelectedDeviceName, Mode=TwoWay, UpdateEvent=CurrentItemChanged}" />
				
				<LinearLayout XmlStyle="{Resource ButtonLineContainerStyle}">
					<Button XmlStyle="{Resource MediumBlueButtonStyle}"
							Text="{Tr Text, Uid=DeviceChoose_SelectDevice}"
							Click="{Binding SelectDeviceCommand}"
							/>
				</LinearLayout>
				
				<!-- TODO : add border with a "or" in middle of it -->				

				<!-- Create new device -->
				<TextView XmlStyle="{Resource HeaderTopLabelStyle}"
				          Text="{Tr Text, Uid=DeviceChoose_DeviceConfigurationLabel}" />
				<EditText android:layout_width="match_parent"
				          android:layout_height="wrap_content"
				          android:textSize="16sp"
				          Text="{Binding InputNewDeviceName, Mode=TwoWay, UpdateEvent=TextChanged}" />
				<LinearLayout XmlStyle="{Resource ButtonLineContainerStyle}">
					<Button XmlStyle="{Resource MediumGreenButtonStyle}"
							Text="{Tr Text, Uid=DeviceChoose_CreateDevice}"
							Click="{Binding CreateDeviceCommand}"
							/>
				</LinearLayout>
			</LinearLayout>
		
			<LinearLayout XmlStyle="{Resource ColumnLayoutStyle}" />
		</LinearLayout>					
	</RelativeLayout>

</LinearLayout>